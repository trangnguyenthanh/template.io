import{d as defineComponent,r as ref,l as onMounted,m as createBlock,w as withCtx,u as unref,n as resolveComponent,o as openBlock,e as createVNode,b as createBaseVNode,I as IonInput,f as createTextVNode,C as IonDatetime,g as IonButton,z as IonContent,c as createElementBlock,x as createCommentVNode,y as checkmarkCircleOutline,A as IonPage,p as pushScopeId,a as popScopeId,_ as _export_sfc}from"./index-CY58Qfmk.js";import{_ as _sfc_main$1}from"./headerPage.vue_vue_type_style_index_0_lang-CSb3g1Fd.js";const _withScopeId=o=>(pushScopeId("data-v-c574c475"),o=o(),popScopeId(),o),_hoisted_1={style:{padding:"10px",height:"100%"}},_hoisted_2=_withScopeId(()=>createBaseVNode("div",{style:{"text-align":"center"}},[createBaseVNode("h4",null,"Thêm vào ví")],-1)),_hoisted_3={slot:"label"},_hoisted_4={id:"flex-container"},_hoisted_5={key:0,id:"calculator",style:{display:"flex","justify-content":"center",height:"40%",padding:"10px",border:"1px solid gray","border-radius":"10px"}},_hoisted_6=_withScopeId(()=>createBaseVNode("hr",null,null,-1)),_hoisted_7={style:{display:"grid","grid-template-columns":"repeat(4, 1fr)",gap:"2px",width:"80%",height:"100%"}},_hoisted_8={key:1,class:"overlay"},_hoisted_9={key:2,class:"overlay"},_hoisted_10={key:3,class:"ShowModal"},_hoisted_11={class:"wrapper",style:{width:"200px"}},_hoisted_12=_withScopeId(()=>createBaseVNode("h5",{style:{"margin-bottom":"20px"}}," Số tiền không được để trống ",-1)),_hoisted_13={key:4,class:"ShowModal"},_hoisted_14={class:"wrapper",style:{width:"200px"}},_hoisted_15=_withScopeId(()=>createBaseVNode("h5",{style:{"margin-bottom":"20px"}}," Đã nhập dữ liệu ",-1)),_sfc_main=defineComponent({__name:"Tab2Page",setup(__props){const money=ref(""),showModalNotMoney=ref(!1),showSuccessModal=ref(!1),userName=ref(""),selectedDate=ref("");onMounted(()=>{userName.value=localStorage.getItem("userName")||""});const saveData=()=>{const o=parseFloat(money.value||"0");let e=parseFloat(localStorage.getItem("walletMoney")||"0");if(e+=o,money.value===""){showModalNotMoney.value=!0,setTimeout(()=>{showModalNotMoney.value=!1},1e3);return}showSuccessModal.value=!0,setTimeout(()=>{showSuccessModal.value=!1},1e3);const n={amount:o,date:new Date().toISOString()},a=JSON.parse(localStorage.getItem("transactions")||"[]");a.push(n),localStorage.setItem("transactions",JSON.stringify(a)),localStorage.setItem("walletMoney",e.toString()),setTimeout(()=>{window.location.reload()},800)},handleDateChange=o=>{selectedDate.value=o.detail.value},showCalculator=ref(!1),appendNumber=o=>{money.value+=o},add=()=>{money.value+="+"},subtract=()=>{money.value+="-"},multiply=()=>{money.value+="*"},divide=()=>{money.value+="/"},calculate=()=>{try{result=eval(money.value),money.value=result}catch(o){money.value="Error"}},clear=()=>{money.value=""};let result="";const handleInput=()=>{money.value=money.value.replace(/[^0-9+\-*/.]/g,"")};return(o,e)=>{const n=resolveComponent("ion-text"),a=resolveComponent("ion-icon");return openBlock(),createBlock(unref(IonPage),null,{default:withCtx(()=>[createVNode(_sfc_main$1),createVNode(unref(IonContent),{"scroll-y":!0,style:{}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1,[_hoisted_2,createVNode(unref(IonInput),{style:{"background-color":"white"},"label-placement":"floating",fill:"outline",modelValue:money.value,"onUpdate:modelValue":e[0]||(e[0]=t=>money.value=t),onClick:e[1]||(e[1]=t=>showCalculator.value=!0),onInput:handleInput,readonly:""},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3,[createTextVNode(" Nhập số tiền "),createVNode(n,{color:"danger"},{default:withCtx(()=>[createTextVNode("(VND)")]),_:1})])]),_:1},8,["modelValue"]),createBaseVNode("div",_hoisted_4,[createVNode(unref(IonDatetime),{style:{"border-radius":"10px",border:"1px solid black","align-items":"center","justify-content":"space-between",display:"flex"},"display-format":"DD/MM/YYYY",modelValue:selectedDate.value,"onUpdate:modelValue":e[2]||(e[2]=t=>selectedDate.value=t),onIonChange:handleDateChange},null,8,["modelValue"])]),createVNode(unref(IonButton),{style:{"margin-top":"10px"},expand:"block",onClick:saveData},{default:withCtx(()=>[createTextVNode(" Lưu ")]),_:1})])]),_:1}),showCalculator.value?(openBlock(),createElementBlock("div",_hoisted_5,[_hoisted_6,createBaseVNode("div",_hoisted_7,[createVNode(unref(IonButton),{color:"dark",onClick:e[3]||(e[3]=t=>clear())},{default:withCtx(()=>[createTextVNode("C")]),_:1}),createVNode(unref(IonButton),{onClick:e[4]||(e[4]=t=>divide())},{default:withCtx(()=>[createTextVNode(" ÷ ")]),_:1}),createVNode(unref(IonButton),{onClick:e[5]||(e[5]=t=>multiply())},{default:withCtx(()=>[createTextVNode("x")]),_:1}),createVNode(unref(IonButton),{color:"danger",onClick:e[6]||(e[6]=t=>calculate())},{default:withCtx(()=>[createTextVNode(" =")]),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:e[7]||(e[7]=t=>appendNumber(1))},{default:withCtx(()=>[createTextVNode("1")]),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:e[8]||(e[8]=t=>appendNumber(2))},{default:withCtx(()=>[createTextVNode("2")]),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:e[9]||(e[9]=t=>appendNumber(3))},{default:withCtx(()=>[createTextVNode("3")]),_:1}),createVNode(unref(IonButton),{onClick:e[10]||(e[10]=t=>add())},{default:withCtx(()=>[createTextVNode("+")]),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:e[11]||(e[11]=t=>appendNumber(4))},{default:withCtx(()=>[createTextVNode("4")]),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:e[12]||(e[12]=t=>appendNumber(5))},{default:withCtx(()=>[createTextVNode("5")]),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:e[13]||(e[13]=t=>appendNumber(6))},{default:withCtx(()=>[createTextVNode("6")]),_:1}),createVNode(unref(IonButton),{onClick:e[14]||(e[14]=t=>subtract())},{default:withCtx(()=>[createTextVNode("-")]),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:e[15]||(e[15]=t=>appendNumber(7))},{default:withCtx(()=>[createTextVNode("7")]),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:e[16]||(e[16]=t=>appendNumber(8))},{default:withCtx(()=>[createTextVNode("8")]),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:e[17]||(e[17]=t=>appendNumber(9))},{default:withCtx(()=>[createTextVNode("9")]),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:e[18]||(e[18]=t=>appendNumber(0))},{default:withCtx(()=>[createTextVNode("0")]),_:1})]),createVNode(unref(IonButton),{color:"success",style:{width:"100px"},onClick:e[19]||(e[19]=t=>showCalculator.value=!1)},{default:withCtx(()=>[createVNode(n,{style:{"font-size":"25px"}},{default:withCtx(()=>[createTextVNode("Ok")]),_:1})]),_:1})])):createCommentVNode("",!0),showModalNotMoney.value?(openBlock(),createElementBlock("div",_hoisted_8)):createCommentVNode("",!0),showSuccessModal.value?(openBlock(),createElementBlock("div",_hoisted_9)):createCommentVNode("",!0),showModalNotMoney.value?(openBlock(),createElementBlock("div",_hoisted_10,[createBaseVNode("div",_hoisted_11,[_hoisted_12,createVNode(unref(IonButton),{color:"medium",style:{width:"100px"},onClick:e[20]||(e[20]=t=>showModalNotMoney.value=!1)},{default:withCtx(()=>[createVNode(n,{style:{"font-size":"13px"}},{default:withCtx(()=>[createTextVNode("Đóng")]),_:1})]),_:1})])])):createCommentVNode("",!0),showSuccessModal.value?(openBlock(),createElementBlock("div",_hoisted_13,[createBaseVNode("div",_hoisted_14,[_hoisted_15,createVNode(a,{color:"success",style:{"font-size":"40px"},icon:unref(checkmarkCircleOutline)},null,8,["icon"])])])):createCommentVNode("",!0)]),_:1})}}}),Tab2Page=_export_sfc(_sfc_main,[["__scopeId","data-v-c574c475"]]);export{Tab2Page as default};
