(function(){System.register(["./index-legacy-lTiFf0ig.js","./headerPage.vue_vue_type_style_index_0_lang-legacy-DkkMckvu.js"],(function(exports,module){"use strict";var defineComponent,ref,onMounted,createBlock,withCtx,unref,resolveComponent,openBlock,createVNode,createBaseVNode,toDisplayString,IonItem,createTextVNode,IonSelect,createElementBlock,renderList,Fragment,IonInput,IonButton,createCommentVNode,checkmarkCircleOutline,IonContent,IonPage,IonSelectOption,pushScopeId,popScopeId,_export_sfc,_sfc_main$1;return{setters:[e=>{defineComponent=e.d,ref=e.r,onMounted=e.l,createBlock=e.m,withCtx=e.w,unref=e.u,resolveComponent=e.n,openBlock=e.o,createVNode=e.e,createBaseVNode=e.b,toDisplayString=e.t,IonItem=e.q,createTextVNode=e.f,IonSelect=e.s,createElementBlock=e.c,renderList=e.v,Fragment=e.F,IonInput=e.I,IonButton=e.g,createCommentVNode=e.x,checkmarkCircleOutline=e.y,IonContent=e.z,IonPage=e.A,IonSelectOption=e.B,pushScopeId=e.p,popScopeId=e.a,_export_sfc=e._},e=>{_sfc_main$1=e._}],execute:function(){var __vite_style__=document.createElement("style");__vite_style__.textContent=".overlay[data-v-e525ea10]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);z-index:999}.ShowModal[data-v-e525ea10]{text-align:center;position:fixed;z-index:1000;background-color:#fff;color:#000;top:50%;left:50%;transform:translate(-50%,-50%);padding:20px;border-radius:20px}\n",document.head.appendChild(__vite_style__);const _withScopeId=e=>(pushScopeId("data-v-e525ea10"),e=e(),popScopeId(),e),_hoisted_1={style:{padding:"10px 10px 10px 10px",background:"linear-gradient(to right, #757f9a, #d7dde8)",height:"100%"}},_hoisted_2=_withScopeId((()=>createBaseVNode("div",{style:{"text-align":"center"}},[createBaseVNode("h4",null,"Nhập khoản chi")],-1))),_hoisted_3={style:{position:"relative",display:"flex",height:"50px","background-color":"#f68989",width:"100%","border-radius":"5px","text-align":"center","align-items":"center"}},_hoisted_4={style:{"margin-left":"20px",color:"white","font-weight":"600"}},_hoisted_5=_withScopeId((()=>createBaseVNode("br",null,null,-1))),_hoisted_6=_withScopeId((()=>createBaseVNode("br",null,null,-1))),_hoisted_7={slot:"label"},_hoisted_8=_withScopeId((()=>createBaseVNode("br",null,null,-1))),_hoisted_9={slot:"label"},_hoisted_10={key:0,id:"calculator",style:{display:"flex","justify-content":"center",height:"40%",padding:"10px",border:"1px solid gray","border-radius":"10px"}},_hoisted_11=_withScopeId((()=>createBaseVNode("hr",null,null,-1))),_hoisted_12={style:{display:"grid","grid-template-columns":"repeat(4, 1fr)",gap:"2px",width:"80%",height:"100%"}},_hoisted_13={key:0,class:"overlay"},_hoisted_14={key:1,class:"overlay"},_hoisted_15={key:2,class:"overlay"},_hoisted_16={key:3,class:"overlay"},_hoisted_17={key:4,class:"overlay"},_hoisted_18={key:5,class:"ShowModal"},_hoisted_19={class:"wrapper",style:{width:"200px"}},_hoisted_20=_withScopeId((()=>createBaseVNode("h5",{style:{"margin-bottom":"20px"}}," Số tiền trong ví không đủ để thực hiện giao dịch. ",-1))),_hoisted_21={key:6,class:"ShowModal"},_hoisted_22={class:"wrapper",style:{width:"200px"}},_hoisted_23=_withScopeId((()=>createBaseVNode("h5",{style:{"margin-bottom":"20px"}}," Xin vui lòng chọn danh mục để lưu. ",-1))),_hoisted_24={key:7,class:"ShowModal"},_hoisted_25={class:"wrapper",style:{width:"200px"}},_hoisted_26=_withScopeId((()=>createBaseVNode("h5",{style:{"margin-bottom":"20px"}}," Số tiền ko được để trống. ",-1))),_hoisted_27={key:0,class:"ShowModal"},_hoisted_28={class:"wrapper",style:{width:"200px"}},_hoisted_29=_withScopeId((()=>createBaseVNode("h5",{style:{"margin-bottom":"20px"}}," Xin vui lòng nhập ghi chú. ",-1))),_hoisted_30={key:1,class:"ShowModal"},_hoisted_31={class:"wrapper",style:{width:"200px"}},_hoisted_32=_withScopeId((()=>createBaseVNode("h5",{style:{"margin-bottom":"20px"}}," Đã nhập dữ liệu ",-1))),_sfc_main=defineComponent({__name:"Home",setup(__props){const showModalNotMoney=ref(!1),showModalCategory=ref(!1),showModalMoney0=ref(!1),showDontNote=ref(!1),money=ref(""),note=ref(""),showSuccessModal=ref(!1),userName=ref(""),walletMomo=ref(""),selectedCategory=ref(),categories=ref([{id:1,name:"Mua sắm"},{id:2,name:"Ăn uống"},{id:3,name:"Di chuyển"},{id:4,name:"Giải trí"},{id:5,name:"Hóa đơn"},{id:6,name:"Sức khỏe"},{id:7,name:"Gia đình"},{id:8,name:"Quà tặng"},{id:9,name:"Khác"},{id:10,name:"Trả nợ"}]);onMounted((()=>{userName.value=localStorage.getItem("userName")||"",walletMomo.value=localStorage.getItem("walletMoney")||""}));const formatWalletMoney=e=>e?e.replace(/\B(?=(\d{3})+(?!\d))/g,"."):"0",showCalculator=ref(!1),appendNumber=e=>{money.value+=e},add=()=>{money.value+="+"},subtract=()=>{money.value+="-"},multiply=()=>{money.value+="*"},divide=()=>{money.value+="/"},clear=()=>{money.value=""};let result="";const calculate=()=>{try{result=eval(money.value),money.value=result}catch(error){money.value="Error"}},handleInput=()=>{money.value=money.value.replace(/[^0-9+\-*/.]/g,"")},saveData=()=>{var e;if(null===selectedCategory.value)return console.error("Vui lòng chọn danh mục trước khi lưu."),showModalCategory.value=!0,void setTimeout((()=>{showModalCategory.value=!1}),3e3);if(""===note.value)return showDontNote.value=!0,void setTimeout((()=>{showDontNote.value=!1}),3e3);const t=null===(e=categories.value.find((e=>e.id.toString()===selectedCategory.value)))||void 0===e?void 0:e.name,o=Number(money.value);if(isNaN(o)||o<=0)return console.error("Vui lòng nhập số tiền hợp lệ."),showModalMoney0.value=!0,void setTimeout((()=>{showModalMoney0.value=!1}),3e3);const a=Number(walletMomo.value.replace(/\D/g,""));if(o>a)return console.error("Số tiền trong ví không đủ."),showModalNotMoney.value=!0,void setTimeout((()=>{showModalNotMoney.value=!1}),3e3);const l=(new Date).toISOString(),n=a-o;walletMomo.value=formatWalletMoney(String(n)),localStorage.setItem("walletMoney",String(n));const d=JSON.parse(localStorage.getItem(t)||"[]");d.push({note:note.value,amount:o,date:l}),showSuccessModal.value=!0,setTimeout((()=>{showSuccessModal.value=!1}),1e3),note.value="",money.value="",localStorage.setItem(String(t),JSON.stringify(d)),setTimeout((()=>{window.location.reload()}),800)};return(e,t)=>{const o=resolveComponent("ion-label"),a=resolveComponent("ion-text"),l=resolveComponent("ion-icon");return openBlock(),createBlock(unref(IonPage),null,{default:withCtx((()=>[createVNode(_sfc_main$1),createVNode(unref(IonContent),{"scroll-y":!0,style:{"font-size":"12px"}},{default:withCtx((()=>[createBaseVNode("div",_hoisted_1,[_hoisted_2,createBaseVNode("div",_hoisted_3,[createBaseVNode("p",_hoisted_4," Tiền trong ví: "+toDisplayString(formatWalletMoney(walletMomo.value))+" VND ",1)]),_hoisted_5,createVNode(unref(IonItem),{style:{"border-radius":"5px","font-size":"12px"}},{default:withCtx((()=>[createVNode(o,{style:{"font-weight":"600"}},{default:withCtx((()=>[createTextVNode("Danh mục : ")])),_:1}),createVNode(unref(IonSelect),{modelValue:selectedCategory.value,"onUpdate:modelValue":t[0]||(t[0]=e=>selectedCategory.value=e)},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(categories.value,(e=>(openBlock(),createBlock(unref(IonSelectOption),{key:e.id,value:e.id},{default:withCtx((()=>[createBaseVNode("p",null,toDisplayString(e.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1}),_hoisted_6,createVNode(unref(IonInput),{style:{"background-color":"white","border-radius":"5px"},fill:"outline",modelValue:note.value,"onUpdate:modelValue":t[1]||(t[1]=e=>note.value=e),onClick:t[2]||(t[2]=e=>showCalculator.value=!1)},{default:withCtx((()=>[createBaseVNode("div",_hoisted_7,[createVNode(a,{style:{"font-weight":"600"},color:"primary"},{default:withCtx((()=>[createTextVNode("ghi chú : ")])),_:1})])])),_:1},8,["modelValue"]),_hoisted_8,createVNode(unref(IonInput),{onClick:t[3]||(t[3]=e=>showCalculator.value=!0),style:{"background-color":"white","border-radius":"5px"},fill:"outline",modelValue:money.value,"onUpdate:modelValue":t[4]||(t[4]=e=>money.value=e),type:"number",onInput:handleInput,readonly:""},{default:withCtx((()=>[createBaseVNode("div",_hoisted_9,[createVNode(a,{style:{"font-weight":"600"},color:"danger"},{default:withCtx((()=>[createTextVNode("( VND ) : ")])),_:1})])])),_:1},8,["modelValue"]),createVNode(unref(IonButton),{color:"tertiary",style:{"margin-top":"10px"},expand:"block",onClick:saveData},{default:withCtx((()=>[createTextVNode(" Lưu ")])),_:1}),showCalculator.value?(openBlock(),createElementBlock("div",_hoisted_10,[_hoisted_11,createBaseVNode("div",_hoisted_12,[createVNode(unref(IonButton),{color:"dark",onClick:t[5]||(t[5]=e=>clear())},{default:withCtx((()=>[createTextVNode("C")])),_:1}),createVNode(unref(IonButton),{onClick:t[6]||(t[6]=e=>divide())},{default:withCtx((()=>[createTextVNode(" ÷ ")])),_:1}),createVNode(unref(IonButton),{onClick:t[7]||(t[7]=e=>multiply())},{default:withCtx((()=>[createTextVNode("x")])),_:1}),createVNode(unref(IonButton),{color:"danger",onClick:t[8]||(t[8]=e=>calculate())},{default:withCtx((()=>[createTextVNode(" =")])),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:t[9]||(t[9]=e=>appendNumber(1))},{default:withCtx((()=>[createTextVNode("1")])),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:t[10]||(t[10]=e=>appendNumber(2))},{default:withCtx((()=>[createTextVNode("2")])),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:t[11]||(t[11]=e=>appendNumber(3))},{default:withCtx((()=>[createTextVNode("3")])),_:1}),createVNode(unref(IonButton),{onClick:t[12]||(t[12]=e=>add())},{default:withCtx((()=>[createTextVNode("+")])),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:t[13]||(t[13]=e=>appendNumber(4))},{default:withCtx((()=>[createTextVNode("4")])),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:t[14]||(t[14]=e=>appendNumber(5))},{default:withCtx((()=>[createTextVNode("5")])),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:t[15]||(t[15]=e=>appendNumber(6))},{default:withCtx((()=>[createTextVNode("6")])),_:1}),createVNode(unref(IonButton),{onClick:t[16]||(t[16]=e=>subtract())},{default:withCtx((()=>[createTextVNode("-")])),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:t[17]||(t[17]=e=>appendNumber(7))},{default:withCtx((()=>[createTextVNode("7")])),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:t[18]||(t[18]=e=>appendNumber(8))},{default:withCtx((()=>[createTextVNode("8")])),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:t[19]||(t[19]=e=>appendNumber(9))},{default:withCtx((()=>[createTextVNode("9")])),_:1}),createVNode(unref(IonButton),{color:"medium",onClick:t[20]||(t[20]=e=>appendNumber(0))},{default:withCtx((()=>[createTextVNode("0")])),_:1})]),createVNode(unref(IonButton),{color:"success",style:{width:"100px"},onClick:t[21]||(t[21]=e=>showCalculator.value=!1)},{default:withCtx((()=>[createVNode(a,{style:{"font-size":"25px"}},{default:withCtx((()=>[createTextVNode("Ok")])),_:1})])),_:1})])):createCommentVNode("",!0)]),createBaseVNode("div",null,[showModalNotMoney.value?(openBlock(),createElementBlock("div",_hoisted_13)):createCommentVNode("",!0),showModalCategory.value?(openBlock(),createElementBlock("div",_hoisted_14)):createCommentVNode("",!0),showModalMoney0.value?(openBlock(),createElementBlock("div",_hoisted_15)):createCommentVNode("",!0),showDontNote.value?(openBlock(),createElementBlock("div",_hoisted_16)):createCommentVNode("",!0),showSuccessModal.value?(openBlock(),createElementBlock("div",_hoisted_17)):createCommentVNode("",!0),showModalNotMoney.value?(openBlock(),createElementBlock("div",_hoisted_18,[createBaseVNode("div",_hoisted_19,[_hoisted_20,createVNode(unref(IonButton),{color:"medium",style:{width:"100px"},onClick:t[22]||(t[22]=e=>showModalNotMoney.value=!1)},{default:withCtx((()=>[createVNode(a,{style:{"font-size":"13px"}},{default:withCtx((()=>[createTextVNode("Đóng")])),_:1})])),_:1})])])):createCommentVNode("",!0),showModalCategory.value?(openBlock(),createElementBlock("div",_hoisted_21,[createBaseVNode("div",_hoisted_22,[_hoisted_23,createVNode(unref(IonButton),{color:"medium",style:{width:"100px"},onClick:t[23]||(t[23]=e=>showModalCategory.value=!1)},{default:withCtx((()=>[createVNode(a,{style:{"font-size":"13px"}},{default:withCtx((()=>[createTextVNode("Đóng")])),_:1})])),_:1})])])):createCommentVNode("",!0),showModalMoney0.value?(openBlock(),createElementBlock("div",_hoisted_24,[createBaseVNode("div",_hoisted_25,[_hoisted_26,createVNode(unref(IonButton),{color:"medium",style:{width:"100px"},onClick:t[24]||(t[24]=e=>showModalMoney0.value=!1)},{default:withCtx((()=>[createVNode(a,{style:{"font-size":"13px"}},{default:withCtx((()=>[createTextVNode("Đóng")])),_:1})])),_:1})])])):createCommentVNode("",!0)]),showDontNote.value?(openBlock(),createElementBlock("div",_hoisted_27,[createBaseVNode("div",_hoisted_28,[_hoisted_29,createVNode(unref(IonButton),{color:"medium",style:{width:"100px"},onClick:t[25]||(t[25]=e=>showDontNote.value=!1)},{default:withCtx((()=>[createVNode(a,{style:{"font-size":"13px"}},{default:withCtx((()=>[createTextVNode("Đóng")])),_:1})])),_:1})])])):createCommentVNode("",!0),showSuccessModal.value?(openBlock(),createElementBlock("div",_hoisted_30,[createBaseVNode("div",_hoisted_31,[_hoisted_32,createVNode(l,{color:"success",style:{"font-size":"40px"},icon:unref(checkmarkCircleOutline)},null,8,["icon"])])])):createCommentVNode("",!0)])),_:1})])),_:1})}}}),Home=exports("default",_export_sfc(_sfc_main,[["__scopeId","data-v-e525ea10"]]))}}}))})();
